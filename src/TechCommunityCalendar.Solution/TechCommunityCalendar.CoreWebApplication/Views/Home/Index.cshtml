@model TechCommunityCalendar.CoreWebApplication.Models.HomeViewModel
@{

    var lastMonth = DateTime.Now.AddMonths(-1);
    var thisMonth = DateTime.Now.AddMonths(0);
    var nextMonth = DateTime.Now.AddMonths(1);

    var lastMonthName = lastMonth.ToString("MMMM yyyy");
    var thisMonthName = thisMonth.ToString("MMMM yyyy");
    var nextMonthName = nextMonth.ToString("MMMM yyyy");

    var lastMonthNumber = lastMonth.Date.Month;
    var thisMonthNumber = thisMonth.Date.Month;
    var nextMonthNumber = nextMonth.Date.Month;

    var lastMonthYear = lastMonth.Date.Year;
    var thisMonthYear = thisMonth.Date.Year;
    var nextMonthYear = nextMonth.Date.Year;
}

<div class="text-center">
    

    @await Html.PartialAsync("_TopMonths", Model.UpcomingEvents)

    <br />

    @if (Model.UpcomingEvents.Any())
    {
        <h3>@Model.UpcomingEventsCount Upcoming Events</h3>

        @await Html.PartialAsync("_EventsTable", Model.UpcomingEvents)

        <br />
    }

    @if (Model.RecentEvents.Any())
    {
        <h3>@Model.RecentEventsCount Recent Events</h3>

        @await Html.PartialAsync("_EventsTable", Model.RecentEvents)

        <br />
    }

    <h3>Events By Country</h3>
    //@foreach (var country in Model.Countries)
    {
        <a href="/country/@country.Item2/">@country.Item1</a> <text>//</text>
    }
</div>
